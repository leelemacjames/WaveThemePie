<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wave Phenomena Mindmap</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; /* Lifts the content to the center */
            padding: 20px;
            overflow: hidden;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        h1 {
            color: white;
            font-size: clamp(1.8em, 4vw, 2.5em);
            margin-bottom: 5px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            font-weight: 300;
            letter-spacing: 2px;
        }
        
        .subtitle {
            color: #94a3b8;
            font-size: clamp(0.9em, 2vw, 1.1em);
            white-space: nowrap; /* Prevents stretching over two lines */
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 95vw;
        }
        
        .mindmap-container {
            position: relative;
            width: 85vmin;
            height: 85vmin;
            max-width: 750px;
            max-height: 750px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        canvas {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 0 30px rgba(0,0,0,0.6));
            cursor: default;
        }
        
        .tooltip {
            position: fixed;
            background: rgba(15, 23, 42, 0.98);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 100;
            border: 1px solid rgba(255,255,255,0.15);
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            max-width: 280px;
            line-height: 1.4;
        }
        
        .tooltip.show { opacity: 1; }
    </style>
</head>
<body>

    <header>
        <h1>Wave Phenomena</h1>
        <p class="subtitle">Resonance, Standing Waves, and Signal Propagation across Physical Scales</p>
    </header>

    <div class="mindmap-container">
        <canvas id="mindmapCanvas"></canvas>
        <div id="tooltip" class="tooltip"></div>
    </div>

    <script>
        const canvas = document.getElementById('mindmapCanvas');
        const ctx = canvas.getContext('2d');
        const tooltip = document.getElementById('tooltip');
        
        const apps = [
            { name: "Bohr & CMBR", url: "https://resonance-bohr-antenna.vercel.app/", color: "#ef4444", desc: "Atomic resonance: Antenna models of Bohr orbits and Cosmic Microwave Background Radiation." },
            { name: "Standing Waves", url: "https://standing-waves.vercel.app/", color: "#f97316", desc: "Visualizing nodes, antinodes, and superposition in linear media." },
            { name: "UV Catastrophe", url: "https://ultra-violet-catastrophe-br.vercel.app/", color: "#f59e0b", desc: "The failure of classical wave theory and the quantization of energy." },
            { name: "Radio Resonance", url: "https://resonance-radio.vercel.app/", color: "#10b981", desc: "Circuit tuning: capturing EM waves via resonant frequency matching." },
            { name: "Instruments", url: "https://standing-waves-instruments.vercel.app/", color: "#06b6d4", desc: "Harmonics in strings and air columns: the physics of music." },
            { name: "Tidal Waves", url: "https://tidal-lagoon-physics.vercel.app/", color: "#3b82f6", desc: "Long-period wave mechanics and tidal energy extraction." },
            { name: "Power Analysis", url: "https://power-analysis-w9dd.vercel.app/", color: "#6366f1", desc: "Energy transfer and power distribution in resonant mechanical systems." },
            { name: "Seismography", url: "https://seismography.vercel.app/", color: "#8b5cf6", desc: "Seismic wave detection (P & S waves) for earthquake location." },
            { name: "Tomography", url: "https://seismic-tomography.vercel.app/", color: "#a855f7", desc: "Imaging Earth's interior using wave velocity variations." },
            { name: "Sound Intensity", url: "https://adding-sound-intensities.vercel.app/", color: "#d946ef", desc: "Logarithmic wave addition: Decibels and interference." },
            { name: "Global Warming", url: "https://global-bucket-warming.vercel.app/", color: "#ec4899", desc: "Radiative forcing and EM wave absorption spectra." },
            { name: "Resonance Tube", url: "https://resonance-tube.vercel.app/", color: "#f43f5e", desc: "Determining sound speed via resonant air column frequency." }
        ];

        let hoveredSlice = -1;
        let hoveredCenter = false;

        function initCanvas() {
            const container = document.querySelector('.mindmap-container');
            const size = Math.min(container.offsetWidth, container.offsetHeight);
            const dpr = window.devicePixelRatio || 1;
            canvas.width = size * dpr;
            canvas.height = size * dpr;
            ctx.scale(dpr, dpr);
        }

        function drawMindmap() {
            const size = canvas.width / (window.devicePixelRatio || 1);
            const centerX = size / 2;
            const centerY = size / 2;
            const outerRadius = size * 0.40;
            const innerRadius = size * 0.15;
            
            ctx.clearRect(0, 0, size, size);
            const sliceAngle = (Math.PI * 2) / apps.length;
            
            apps.forEach((app, i) => {
                const startAngle = i * sliceAngle - Math.PI / 2;
                const endAngle = startAngle + sliceAngle;
                const isHovered = hoveredSlice === i;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                const currentRadius = isHovered ? outerRadius + 12 : outerRadius;
                ctx.arc(centerX, centerY, currentRadius, startAngle, endAngle);
                ctx.closePath();
                
                ctx.fillStyle = app.color;
                ctx.globalAlpha = isHovered ? 1.0 : 0.75;
                ctx.fill();
                
                ctx.strokeStyle = 'rgba(255,255,255,0.3)';
                ctx.lineWidth = 1.5;
                ctx.stroke();

                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(startAngle + sliceAngle / 2);
                ctx.textAlign = "right";
                ctx.fillStyle = "white";
                ctx.font = isHovered ? "bold 13px Segoe UI" : "11px Segoe UI";
                ctx.fillText(app.name, outerRadius - 15, 5);
                ctx.restore();
            });

            ctx.beginPath();
            ctx.arc(centerX, centerY, innerRadius, 0, Math.PI * 2);
            ctx.fillStyle = hoveredCenter ? '#ffffff' : '#1e293b';
            ctx.globalAlpha = 1;
            ctx.fill();
            ctx.strokeStyle = 'rgba(255,255,255,0.8)';
            ctx.lineWidth = 2;
            ctx.stroke();

            ctx.fillStyle = hoveredCenter ? '#1e293b' : 'white';
            ctx.textAlign = 'center';
            ctx.font = 'bold 15px Segoe UI';
            ctx.fillText('WAVE', centerX, centerY - 2);
            ctx.font = '10px Segoe UI';
            ctx.fillText('THEMES', centerX, centerY + 14);
        }

        function getMousePos(evt) {
            const rect = canvas.getBoundingClientRect();
            return {
                x: (evt.clientX - rect.left) * (canvas.width / (window.devicePixelRatio || 1) / rect.width),
                y: (evt.clientY - rect.top) * (canvas.height / (window.devicePixelRatio || 1) / rect.height)
            };
        }

        canvas.addEventListener('mousemove', (e) => {
            const pos = getMousePos(e);
            const size = canvas.width / (window.devicePixelRatio || 1);
            const centerX = size / 2;
            const centerY = size / 2;
            
            const dx = pos.x - centerX;
            const dy = pos.y - centerY;
            const dist = Math.sqrt(dx*dx + dy*dy);
            const innerRadius = size * 0.15;
            const outerRadius = size * 0.40;

            if (dist < innerRadius) {
                hoveredCenter = true;
                hoveredSlice = -1;
                tooltip.classList.remove('show');
                canvas.style.cursor = 'pointer';
            } else if (dist < outerRadius + 15) {
                hoveredCenter = false;
                let angle = Math.atan2(dy, dx) + Math.PI / 2;
                if (angle < 0) angle += Math.PI * 2;
                hoveredSlice = Math.floor(angle / ((Math.PI * 2) / apps.length));
                
                const app = apps[hoveredSlice];
                tooltip.innerHTML = `<strong>${app.name}</strong><br>${app.desc}`;
                tooltip.style.left = (e.clientX + 15) + 'px';
                tooltip.style.top = (e.clientY + 15) + 'px';
                tooltip.classList.add('show');
                canvas.style.cursor = 'pointer';
            } else {
                hoveredSlice = -1;
                hoveredCenter = false;
                tooltip.classList.remove('show');
                canvas.style.cursor = 'default';
            }
            drawMindmap();
        });

        canvas.addEventListener('click', (e) => {
            if (hoveredSlice !== -1) {
                window.open(apps[hoveredSlice].url, '_blank');
            } else if (hoveredCenter) {
                window.open('https://leelemacjames.github.io/thematicPhysics/', '_blank');
            }
        });

        window.addEventListener('resize', () => {
            initCanvas();
            drawMindmap();
        });
        
        initCanvas();
        drawMindmap();
    </script>
</body>
</html>
